; PlatformIO Project Configuration File
; Evil Portal Studio v1.3.0
;
; Build commands:
;   pio run -e flipper          # Build Flipper Edition
;   pio run -e flipper -t upload # Upload Flipper Edition
;
; For Arduino IDE users:
;   1. Copy src/main_flipper.cpp to your Arduino folder
;   2. Rename to EvilPortal_v1.3_flipper.ino
;   3. Install libraries from Library Manager or GitHub

[env]
platform = espressif32@6.4.0
framework = arduino
monitor_speed = 115200
upload_speed = 921600
board_build.filesystem = spiffs
board_build.partitions = default.csv

lib_deps = 
    bblanchon/ArduinoJson@^7.0.0
    https://github.com/mathieucarbou/AsyncTCP.git
    https://github.com/mathieucarbou/ESPAsyncWebServer.git

build_flags = 
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DCORE_DEBUG_LEVEL=0

; ============================================================================
; Flipper Zero Edition
; ============================================================================
[env:flipper]
board = esp32-s3-devkitc-1
build_src_filter = +<main_flipper.cpp>
build_flags = 
    ${env.build_flags}
    -DBOARD_HAS_PSRAM
    -DARDUINO_USB_MODE=1

; ============================================================================
; Electronic Cats WiFi Dev Board (Flipper Edition)
; ============================================================================
[env:electroniccats-flipper]
board = esp32-s3-devkitc-1
build_src_filter = +<main_flipper.cpp>
build_flags = 
    ${env.build_flags}
    -DBOARD_HAS_PSRAM
    -DARDUINO_USB_MODE=1
    -DLED_ACCENT_PIN=4
    -DLED_STATUS_PIN=5
    -DLED_ALERT_PIN=6
